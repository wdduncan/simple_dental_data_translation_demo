## REALEASE PROCESS:
The release process uses the ROBOT tool produce the ontology release file `data_entity_ontology.owl`.

Information about downloading and installing ROBOT is found at:
- http://robot.obolibrary.org/
- https://github.com/ontodev/robot

Since the robot.jar file is in the directory, calls to robot are made using the `java -jar ./robot.jar` command.
Alternatively, if your system is configured properly, you can edit the script to call robot directly. 
For example, if the path to robot is in your `PATH` environment variable, you can replace `java -jar ./robot.jar` with `robot`.

## MERGE ERRORS AND THE CATALOG-V001.XML FILE
As you create new import files for the ontology, robot may throw an error saying it cannot locate the import ontology.
This error is most likely fixed by editing the catalog-v001.xml file in the build directory to include the new import.
For example, suppose the catalog-v001.xml only references the `ontology_annotations_import.owl` like so:
```xml
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<catalog prefer="public" xmlns="urn:oasis:names:tc:entity:xmlns:xml:catalog">
    <uri name="http://purl.roswellpark.org/ontology_annotations_import.owl" uri="ontology_annotations_import.owl"/>
</catalog>
```

You then create a file named `foo.owl` in the imports directory. 
In order for the robot merge operation to execute, you need to modify the catalog file to reference `foo.owl`:
```xml
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<catalog prefer="public" xmlns="urn:oasis:names:tc:entity:xmlns:xml:catalog">
    <uri name="http://purl.roswellpark.org/ontology_annotations_import.owl" uri="ontology_annotations_import.owl"/>
    <uri name="http://purl.roswellpark.org/foo.owl" uri="foo.owl"/>
</catalog>
```

## RUNNING THE RELEASE SCRIPT
To release a version of `data_entity.owl`, run the `robot_release.sh` command

This will copy the `data_entity_dev.owl` file and the imports into build directory, and produce the temp files:

- `data_entity_merged.owl`
- `data_entity_annotated.owl`
- `data_entity.owl`

The `data_entity.owl` is the **release file**. Open this file and check that the ontology IRI was produced correctly and that are not any errors.
The `data_entity_merged.owl` and `data_entity_annotated.owl` are intermediary files produced in the release process. 
They are deleted after the build process completes, but they can be helpful in tracking down errors. 
To prevent them from being deleted, comment out the following lines in the build script:
```bash
rm data_entity_merged.owl
rm data_entity_annotated.owl
```

Finally, when you are satisfied with the ontology generated by the release script:

- copy the build `data_entity.owl` file to the ontology directory
- commit and push your changes:
```bash
git commit -am "create release ontology $(date '+%Y-%m-%dT%H:%M:%S')"
git push
```
- tag the repo with the date and time and push the tag: 
```bash
git tag data_source_ontology_release_$(date '+%Y-%m-%dT%H_%M_%S') -m "ONTOLOGY REALEASE $(date '+%Y-%m-%d %H:%M:%S')"
git push origin --tags
```
